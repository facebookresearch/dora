# @package _global_
defaults:
  - hydra/hydra_logging: colorlog

dora:
  dir: ./outputs
  sig: dora
  exclude: []

  history: history.json
  seed: 1234

  scheduler:
    dbs: ${dora.dir}/dbs/
    submitit: submitit
    job_file: job_id.pkl

  solver:
    checkpoint: checkpoint.th
    best: best.th
    restart: false

  ddp:
    rendezvous: rendezvous.txt
    backend: nccl

  slurm:
    mem_per_task: 10  # set this in GB
    gpus: 1 # automatically translated to the right number of nodes
    # Anything after is forwarded to `AutoExecutor.update_parameters`
    time: 1200
    cpus_per_task: 10
    partition: learnfair
    comment:
    # dont set those manually they will get overriden
    nodes:
    ntasks_per_node:
    mem:

epochs: 10


hydra:
  run:
    dir: ${dora.dir}/${dora.sig}
  job_logging:
    handlers:
      file:
        mode: w
        filename: ${hydra.job.name}.log.${env:DORA_RANK}
